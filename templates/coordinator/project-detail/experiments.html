{% extends 'coordinator/project.html' %}

{% load static %}

{% block project-content %}
    <a class="btn blue white-text right waves-effect waves-light">
        Create New
    </a>

    <div class="clearfix"> </div> <br/>

    <div class="card">
        <div class="card-content">
            <table id="data-table">
                <thead>
                    <tr>
                        <th> Experiment </th>
                        <th> Metric </th>
                        <th> Validation </th>
                        <th> Models Created </th>
                        <th> F1 Score </th>
                        <th> Total Time Spent </th>
                        <th> Status </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td> Experiment 1 </th>
                        <td> Content </td>
                        <td> 5-fold </td>
                        <td> 38 </td>
                        <td> 0.78 </td>
                        <td> 1:18:19 </td>
                        <td> 
                          <div class="chip green white-text">
                            Success
                          </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

	<div class="clearfix"> </div>

	<div class="preview card">
		<div class="card-content black-text">
            <div class="card-title">
                Experiment 1 Details
            </div>
            <div class="row">
                <div class="col s12 m6 l4">
                    <div class="summary-head"> Input Dataset </div>
                    <p>
                        <strong> Train: </strong>
                        <span> NumeraAI </span>
                    </p>
                </div>
                <div class="col s12 m6 l4">
                    <div class="summary-head"> Algorithms </div>
                    <div>
                        <span> Extreme Gradient Boosting </span> </br>
                        <span> LightGBM </span> </br>
                        <span> Random Forest </span> </br>
                        <span> Regularized Greedy Forest </span> </br>
                        <span> Extra Trees </span> </br>
                        <span> Logistic Regression </span> </br>
                        <span> Neural Network </span>
                    </div>
                </div>
                <div class="col s12 m6 l4"> 
                    <div class="summary-head"> Tuning </div>
                    <div> 
                        <strong> Metric to optimize: </strong> <span> Accuracy </span> <br/>
                        <strong> Validation type: </strong> <span> 5-fold CV, Shuffle, Stratify  </span> <br/>
                        <strong> Tuning mode: </strong> <span>  Normal  </span> <br/>
                        <strong> Time limit for single model: </strong> <span> 1 minutes </span>
                    </div>
                </div>
                <div class="col s12 m12 l12">
                    <div class="summary-head"> Description </div>
                    <p>
                        Lorem Ipsum
                    </p>
                </div>
            </div>
		</div>
	</div>



    <div class="add-new card ">
        <div class="card-content"> 
            <div class="card-title">
                Create New Experiment
            </div>
        </div>
        <div class="">
          <form method="post">
            {% csrf_token %}
              <div class="col s12" id="experiment-form">

              <!--
                  <div class="step-indicator col s8 offset-s2">
                     <div> 
                        <input type="radio" name="current_step" value="1" id="step1" checked="checked"/>
                        <label for="step1"> Select Dataset </label> <br/>
                     </div>
                     <div> 
                        <input type="radio" name="current_step" value="2" id="step2" />
                        <label for="step2"> Algorithms </label> <br/>
                     </div>
                     <div>
                        <input type="radio" name="current_step" value="3" id="step3" />
                        <label for="step3"> Tuning </label> <br/>
                     </div>
                     <div class="step-mask" /> </div>
                  </div>
                -->

                  <div class="step active">
                    <div class="input-field col s12">
                        <label class="active"> Experiment Name </label>
                        <input type="text" name="name" />
                    </div>
                    <div class="input-field col s12">
                        <label class="active"> Train Dataset </label>
                        <select name="traindata">
                            <option value="source1"> NumerAi </option>
                            <option value="source2"> NumerAi2 </option>
                        </select>
                    </div>
                    <div class="input-field col s12 m7 l7">
                        <label class="active"> Validation </label>
                        <select name="traindata">
                            <option value="source1"> k-fold </option>
                            <option value="source2"> Train/Test </option>
                            <option value="source2"> Seperate Dataset </option>
                        </select>
                    </div>
                    <div class="input-field col s12 m5 l5">
                        <label class="active"> Folds </label>
                        <input type="number" name="kvalue" />
                    </div>
                    <div class="clearfix"> </div>
                    <div class="input-field col s12">
                        <label> Description </label>
                        <textarea name="description" class="materialize-textarea"></textarea>
                    </div>
                    <div class="switch col s12">
                      Auto Group: 
                      <label>
                        <input type="checkbox">
                        <span class="lever"></span> 
                      </label>
                    </div>
                    <div class="clearfix"> </div> <br/>
                  </div>

                  <div class="step">
                    <ul class="collapsible collapsible-accordion" data-collapsible="expandable">

                        <li class="stepitem">
                            <div class="heading collapsible-header">
                                <label> Random Forest </label>
                                <div class="switch right">
                                    <label class="">
                                        Off 
                                        <input type="checkbox" name="random-forest" /> 
                                        <span class="lever"> </span> 
                                        On
                                    </label>
                                </div>
                            </div>
                            <div class="subcontent collapsible-body">
                                <div class="input-field">
                                    <label> n_estimation </label>
                                    <input type="text" name="n-est" />
                                </div>
                                <div class="input-field">
                                    <label> min_split </label>
                                    <input type="text" name="min_split" />
                                </div>
                                <div class="switch">
                                    Optimize
                                    <label>
                                        <input type="checkbox" name="optimize" /> 
                                        <span class="lever"> </span> 
                                    </label>
                                </div>
                            </div>
                        </li>

                        <li class="stepitem">
                            <div class="heading collapsible-header ">
                                <label> Extra Trees</label>
                                <div class="switch right">
                                    <label class="">
                                        Off 
                                        <input type="checkbox" name="random-forest" /> 
                                        <span class="lever"> </span> 
                                        On
                                    </label>
                                </div>
                            </div>
                            <div class="subcontent collapsible-body">
                                <div class="input-field">
                                    <label> n_estimation </label>
                                    <input type="text" name="n-est" />
                                </div>
                                <div class="input-field">
                                    <label> min_split </label>
                                    <input type="text" name="min_split" />
                                </div>
                                <div class="switch">
                                    Optimize
                                    <label>
                                        <input type="checkbox" name="optimize" /> 
                                        <span class="lever"> </span> 
                                    </label>
                                </div>
                            </div>
                        </li>

                        <li class="stepitem">
                            <div class="heading collapsible-header ">
                                <label> XGBoost!  </label>
                                <div class="switch right">
                                    <label class="">
                                        Off 
                                        <input type="checkbox" name="random-forest" /> 
                                        <span class="lever"> </span> 
                                        On
                                    </label>
                                </div>
                            </div>
                            <div class="subcontent collapsible-body">
                                <div class="input-field">
                                    <label> n_estimation </label>
                                    <input type="text" name="n-est" />
                                </div>
                                <div class="input-field">
                                    <label> min_split </label>
                                    <input type="text" name="min_split" />
                                </div>
                                <div class="switch">
                                    Optimize
                                    <label>
                                        <input type="checkbox" name="optimize" /> 
                                        <span class="lever"> </span> 
                                    </label>
                                </div>
                            </div>
                        </li>
                    </ul>
                  </div>

                  <div class="step">
                    <div class="input-field">
                        <label class="active" > Metric to Optimize </label>
                        <Select name="metric">
                            <option> Macro F1 </option>
                            <option> Accuracy </option>
                        </Select>
                    </div>
                    <div class="range-field stepitem">
                        <div class="heading"> <label> Time Limit </label> </div>
                        <input type="range" id="test5" min="0" max="100" />
                        <label data-value="test5"> 20 mins </label>
                    </div>
                  </div>

                  <div class="clearfix"> </div> <br/>


                  <div class="col s12">
                      <a class="btn white black-text cancel left"> Cancel </a>
                      <a class="btn blue white-text next-step right"> Next </a>
                      <input type="submit" name="add-new"  value="Submit"  class="btn blue white-text next-step right" id="submit-form"/>
                      <a class="btn white black-text back-step right"> Back </a>
                  </div>
                  <div class="clearfix"> </div> <br/>
              </div>
            </form>
        </div>
    </div>


{% endblock %}

{% block extra_scripts_project %}
    <script type="text/javascript" src="{% static 'custom/coordinator/project/js/experiment.js' %}"></script>
{% endblock %}
